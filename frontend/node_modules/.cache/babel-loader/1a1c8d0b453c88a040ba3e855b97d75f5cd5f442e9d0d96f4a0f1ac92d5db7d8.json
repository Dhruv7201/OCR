{"ast":null,"code":"import React,{useState,useEffect,useRef,useCallback}from\"react\";import axios from\"axios\";import Swal from\"sweetalert2\";import VideoStream from\"./VideoStream\";import LineItemsTable from\"./LineItemsTable\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const videoConstraints={width:1080,height:720,facingMode:\"user\"};const WebCam=()=>{const[productDetail,setProductDetail]=useState({productName:\"\",batchNumber:\"\",mfgDate:\"\",expDate:\"\"});const[lineItems,setLineItems]=useState([]);const audioRef=useRef(null);const videoRef=useRef(null);const canvasRef=useRef(null);const handleAddRow=()=>{setLineItems(prevLineItems=>[...prevLineItems,{productName:\"\",batchNumber:\"\",mfgDate:\"\",expDate:\"\"}]);};const handleDeleteRow=index=>{setLineItems(prevLineItems=>prevLineItems.filter((item,i)=>i!==index));};const handleProductChange=(index,value)=>{setLineItems(prevLineItems=>{const updatedLineItems=[...prevLineItems];updatedLineItems[index].productName=value;return updatedLineItems;});};const handleBatchChange=(index,value)=>{setLineItems(prevLineItems=>{const updatedLineItems=[...prevLineItems];updatedLineItems[index].batchNumber=value;return updatedLineItems;});};const handleMfgChange=(index,value)=>{setLineItems(prevLineItems=>{const updatedLineItems=[...prevLineItems];updatedLineItems[index].mfgDate=value;return updatedLineItems;});};const handleExpChange=(index,value)=>{setLineItems(prevLineItems=>{const updatedLineItems=[...prevLineItems];updatedLineItems[index].expDate=value;return updatedLineItems;});};const handleSave=()=>{if(lineItems.length===0){Swal.fire({icon:\"error\",title:\"Oops...\",text:\"Please add at least one row\"});return;}if(lineItems.length===1){if(lineItems[0].productName===\"\"||lineItems[0].batchNumber===\"\"||lineItems[0].mfgDate===\"\"||lineItems[0].expDate===\"\"){Swal.fire({icon:\"error\",title:\"Oops...\",text:\"Please fill all the rows\"});return;}}for(let i=0;i<lineItems.length-1;i++){if(lineItems[i].productName===\"\"||lineItems[i].batchNumber===\"\"||lineItems[i].mfgDate===\"\"||lineItems[i].expDate===\"\"){Swal.fire({icon:\"error\",title:\"Oops...\",text:\"Please fill all the rows\"});return;}}// remove the last empty row\nlineItems.pop();const dataToSave={data:lineItems};// Post data to the backend\naxios.post(\"http://192.168.0.156:3001/api/save-data\",dataToSave).then(res=>{if(res.status===200){// Clear the lineItems\nsetLineItems([]);Swal.fire({icon:\"success\",title:\"Success\",text:\"Data saved successfully\"});}}).catch(err=>{console.error(err);});};useEffect(()=>{const{productName,batchNumber,mfgDate,expDate}=productDetail;if(productName||batchNumber||mfgDate||expDate){const tableData={productName:productName||\"\",batchNumber:batchNumber||\"\",mfgDate:mfgDate||\"\",expDate:expDate||\"\"};if(productName!==\"\"){// make beep sound\naudioRef.current.play();if((lineItems===null||lineItems===void 0?void 0:lineItems.length)>0){const newState=lineItems.map((obj,index)=>{if(index===lineItems.length-1){return{...obj,productName:productName};}return obj;});setLineItems(newState);}else{setLineItems(prevLineItems=>[...prevLineItems,tableData]);}}if(batchNumber!==\"\"){// make beep sound\naudioRef.current.play();if((lineItems===null||lineItems===void 0?void 0:lineItems.length)>0){const newState=lineItems.map((obj,index)=>{if(index===lineItems.length-1){return{...obj,batchNumber:batchNumber,mfgDate:mfgDate,expDate:expDate};}return obj;});setLineItems(newState);}else{setLineItems(prevLineItems=>[...prevLineItems,tableData]);}}setProductDetail({productName:\"\",batchNumber:\"\",mfgDate:\"\",expDate:\"\"});}},[productDetail,lineItems]);useEffect(()=>{if(lineItems.length>0){const lastItem=lineItems[lineItems.length-1];if(lastItem.productName&&lastItem.batchNumber){handleAddRow();}}},[lineItems]);const sendFrameToBackend=useCallback(async()=>{const canvas=canvasRef.current;const ctx=canvas.getContext(\"2d\");canvas.width=videoConstraints.width;canvas.height=videoConstraints.height;if(videoRef.current){ctx.drawImage(videoRef.current,0,0,videoConstraints.width,videoConstraints.height);const imageData=canvas.toDataURL(\"image/jpeg\");try{const response=await fetch(\"http://192.168.0.156:3001/api/send-frame\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({frame:imageData})});const data=await response.json();console.log(data);setProductDetail(data);}catch(error){console.error(error);}}},[videoConstraints]);return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"audio\",{ref:audioRef,children:/*#__PURE__*/_jsx(\"source\",{src:\"/beep.mp3\",type:\"audio/mp3\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(VideoStream,{videoConstraints:videoConstraints,videoRef:videoRef,canvasRef:canvasRef,sendFrameToBackend:sendFrameToBackend})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:/*#__PURE__*/_jsx(LineItemsTable,{lineItems:lineItems,handleProductChange:handleProductChange,handleBatchChange:handleBatchChange,handleMfgChange:handleMfgChange,handleExpChange:handleExpChange,handleDeleteRow:handleDeleteRow,handleAddRow:handleAddRow,handleSave:handleSave})})})})]});};export default WebCam;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","axios","Swal","VideoStream","LineItemsTable","jsx","_jsx","jsxs","_jsxs","videoConstraints","width","height","facingMode","WebCam","productDetail","setProductDetail","productName","batchNumber","mfgDate","expDate","lineItems","setLineItems","audioRef","videoRef","canvasRef","handleAddRow","prevLineItems","handleDeleteRow","index","filter","item","i","handleProductChange","value","updatedLineItems","handleBatchChange","handleMfgChange","handleExpChange","handleSave","length","fire","icon","title","text","pop","dataToSave","data","post","then","res","status","catch","err","console","error","tableData","current","play","newState","map","obj","lastItem","sendFrameToBackend","canvas","ctx","getContext","drawImage","imageData","toDataURL","response","fetch","method","headers","body","JSON","stringify","frame","json","log","className","children","ref","src","type"],"sources":["/home/ethics/workspace/ethics-medicinebox-ai/frontend/src/components/WebCam.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport VideoStream from \"./VideoStream\";\nimport LineItemsTable from \"./LineItemsTable\";\n\nconst videoConstraints = {\n  width: 1080,\n  height: 720,\n  facingMode: \"user\",\n};\n\nconst WebCam = () => {\n  const [productDetail, setProductDetail] = useState({\n    productName: \"\",\n    batchNumber: \"\",\n    mfgDate: \"\",\n    expDate: \"\",\n  });\n  const [lineItems, setLineItems] = useState([]);\n  const audioRef = useRef(null);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n\n  const handleAddRow = () => {\n    setLineItems((prevLineItems) => [\n      ...prevLineItems,\n      { productName: \"\", batchNumber: \"\", mfgDate: \"\", expDate: \"\" },\n    ]);\n  };\n\n  const handleDeleteRow = (index) => {\n    setLineItems((prevLineItems) =>\n      prevLineItems.filter((item, i) => i !== index)\n    );\n  };\n\n  const handleProductChange = (index, value) => {\n    setLineItems((prevLineItems) => {\n      const updatedLineItems = [...prevLineItems];\n      updatedLineItems[index].productName = value;\n      return updatedLineItems;\n    });\n  };\n\n  const handleBatchChange = (index, value) => {\n    setLineItems((prevLineItems) => {\n      const updatedLineItems = [...prevLineItems];\n      updatedLineItems[index].batchNumber = value;\n      return updatedLineItems;\n    });\n  };\n\n  const handleMfgChange = (index, value) => {\n    setLineItems((prevLineItems) => {\n      const updatedLineItems = [...prevLineItems];\n      updatedLineItems[index].mfgDate = value;\n      return updatedLineItems;\n    });\n  };\n\n  const handleExpChange = (index, value) => {\n    setLineItems((prevLineItems) => {\n      const updatedLineItems = [...prevLineItems];\n      updatedLineItems[index].expDate = value;\n      return updatedLineItems;\n    });\n  };\n\n  const handleSave = () => {\n    if (lineItems.length === 0) {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Oops...\",\n        text: \"Please add at least one row\",\n      });\n      return;\n    }\n    if (lineItems.length === 1) {\n      if (\n        lineItems[0].productName === \"\" ||\n        lineItems[0].batchNumber === \"\" ||\n        lineItems[0].mfgDate === \"\" ||\n        lineItems[0].expDate === \"\"\n      ) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Oops...\",\n          text: \"Please fill all the rows\",\n        });\n        return;\n      }\n    }\n    for (let i = 0; i < lineItems.length - 1; i++) {\n      if (\n        lineItems[i].productName === \"\" ||\n        lineItems[i].batchNumber === \"\" ||\n        lineItems[i].mfgDate === \"\" ||\n        lineItems[i].expDate === \"\"\n      ) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Oops...\",\n          text: \"Please fill all the rows\",\n        });\n        return;\n      }\n    }\n    // remove the last empty row\n    lineItems.pop();\n    const dataToSave = {\n      data: lineItems,\n    };\n    // Post data to the backend\n    axios\n      .post(\"http://192.168.0.156:3001/api/save-data\", dataToSave)\n      .then((res) => {\n        if (res.status === 200) {\n          // Clear the lineItems\n          setLineItems([]);\n          Swal.fire({\n            icon: \"success\",\n            title: \"Success\",\n            text: \"Data saved successfully\",\n          });\n        }\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  };\n\n  useEffect(() => {\n    const { productName, batchNumber, mfgDate, expDate } = productDetail;\n    if (productName || batchNumber || mfgDate || expDate) {\n      const tableData = {\n        productName: productName || \"\",\n        batchNumber: batchNumber || \"\",\n        mfgDate: mfgDate || \"\",\n        expDate: expDate || \"\",\n      };\n\n      if (productName !== \"\") {\n        // make beep sound\n        audioRef.current.play();\n        if (lineItems?.length > 0) {\n          const newState = lineItems.map((obj, index) => {\n            if (index === lineItems.length - 1) {\n              return { ...obj, productName: productName };\n            }\n            return obj;\n          });\n          setLineItems(newState);\n        } else {\n          setLineItems((prevLineItems) => [...prevLineItems, tableData]);\n        }\n      }\n      if (batchNumber !== \"\") {\n        // make beep sound\n        audioRef.current.play();\n        if (lineItems?.length > 0) {\n          const newState = lineItems.map((obj, index) => {\n            if (index === lineItems.length - 1) {\n              return {\n                ...obj,\n                batchNumber: batchNumber,\n                mfgDate: mfgDate,\n                expDate: expDate,\n              };\n            }\n            return obj;\n          });\n          setLineItems(newState);\n        } else {\n          setLineItems((prevLineItems) => [...prevLineItems, tableData]);\n        }\n      }\n      setProductDetail({\n        productName: \"\",\n        batchNumber: \"\",\n        mfgDate: \"\",\n        expDate: \"\",\n      });\n    }\n  }, [productDetail, lineItems]);\n\n  useEffect(() => {\n    if (lineItems.length > 0) {\n      const lastItem = lineItems[lineItems.length - 1];\n      if (lastItem.productName && lastItem.batchNumber) {\n        handleAddRow();\n      }\n    }\n  }, [lineItems]);\n\n  const sendFrameToBackend = useCallback(async () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    canvas.width = videoConstraints.width;\n    canvas.height = videoConstraints.height;\n\n    if (videoRef.current) {\n      ctx.drawImage(\n        videoRef.current,\n        0,\n        0,\n        videoConstraints.width,\n        videoConstraints.height\n      );\n      const imageData = canvas.toDataURL(\"image/jpeg\");\n\n      try {\n        const response = await fetch(\n          \"http://192.168.0.156:3001/api/send-frame\",\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({ frame: imageData }),\n          }\n        );\n\n        const data = await response.json();\n        console.log(data);\n        setProductDetail(data);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }, [videoConstraints]);\n\n  return (\n    <div className=\"text-center\">\n      <audio ref={audioRef}>\n        <source src=\"/beep.mp3\" type=\"audio/mp3\" />\n      </audio>\n      <div className=\"row\">\n        <div className=\"col-md-4\">\n          <VideoStream\n            videoConstraints={videoConstraints}\n            videoRef={videoRef}\n            canvasRef={canvasRef}\n            sendFrameToBackend={sendFrameToBackend}\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-6\">\n          <div className=\"p-2\">\n            <LineItemsTable\n              lineItems={lineItems}\n              handleProductChange={handleProductChange}\n              handleBatchChange={handleBatchChange}\n              handleMfgChange={handleMfgChange}\n              handleExpChange={handleExpChange}\n              handleDeleteRow={handleDeleteRow}\n              handleAddRow={handleAddRow}\n              handleSave={handleSave}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default WebCam;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}